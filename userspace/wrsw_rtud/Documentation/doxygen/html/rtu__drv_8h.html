<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>wrsw_rtud: software/wrsw_rtud/rtu_drv.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>software/wrsw_rtud/rtu_drv.h File Reference</h1>  </div>
</div>
<div class="contents">
<code>#include &quot;<a class="el" href="rtu_8h_source.html">rtu.h</a>&quot;</code><br/>

<p><a href="rtu__drv_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a7461de767ba1597037dc18944fa2f89b">RTU_HCAM</a>&#160;&#160;&#160;0x4000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#aa4a50600306f0a093eb5d8f17a3d67d9">RTU_ARAM_MAIN</a>&#160;&#160;&#160;0x8000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a8038506fc9bdd75fa67aae9980e953ba">RTU_VLAN_TAB</a>&#160;&#160;&#160;0xc000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a7f844da39c62b8396fb86636f3c0ba7a">RTU_MFIFO_R0_DATA_SEL</a>&#160;&#160;&#160;0x00000000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#ab816dce57bb1dbe29d8533c2e19f1446">RTU_MFIFO_R1_ADDR_MASK</a>&#160;&#160;&#160;0x0007FFFF</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a33f21fac95b68d4c9640d547887c7863">RTU_DEVNAME</a>&#160;&#160;&#160;&quot;/dev/wr_rtu&quot;</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#afbf6bd79193f60b8e37d6000075a1665">rtu_init</a> (void) __attribute__((warn_unused_result))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize HW RTU memory map.  <a href="#afbf6bd79193f60b8e37d6000075a1665"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a474c44274e817fd099cd61041e9f148d">rtu_exit</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#ae27b60dc29995bf00885fe528c5fb822">rtu_ufifo_is_empty</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the UFIFO empty flag.  <a href="#ae27b60dc29995bf00885fe528c5fb822"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#ade36f3d68d5056c98a83589d31b63229">rtu_read_learning_queue_cnt</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current learning queue length.  <a href="#ade36f3d68d5056c98a83589d31b63229"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a293c16df6af56bae9b6f054ac47d46f7">rtu_read_learning_queue</a> (struct <a class="el" href="structrtu__request.html">rtu_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads unrecognised request from UFIFO. Blocks on read if learning queue is empty.  <a href="#a293c16df6af56bae9b6f054ac47d46f7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a293c61a6549ae8e4270ef5e2da9d8ca4">rtu_read_mfifo_cnt</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current main hashtable CPU access FIFO (MFIFO) length.  <a href="#a293c61a6549ae8e4270ef5e2da9d8ca4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a93883d637d327b55384a2340a2bd6d00">rtu_mfifo_is_full</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the main hashtable CPU access FIFO (MFIFO) is full.  <a href="#a93883d637d327b55384a2340a2bd6d00"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a06ba5919b19814534659a97ce87e97ec">rtu_mfifo_is_empty</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the main hashtable CPU access FIFO (MFIFO) is empty.  <a href="#a06ba5919b19814534659a97ce87e97ec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#ad4e88df1a88b3ed45913653f36505580">rtu_clean_mfifo</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans MFIFO.  <a href="#ad4e88df1a88b3ed45913653f36505580"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#aed8ed9b7aa502ccff7704b100a5988ff">rtu_write_htab_entry</a> (uint16_t zbt_addr, struct <a class="el" href="structfiltering__entry.html">filtering_entry</a> *ent)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes one MAC entry into main hash table at the given address.  <a href="#aed8ed9b7aa502ccff7704b100a5988ff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#aae356a1e27b4e6a32ed89166e0f5ee0c">rtu_clean_htab_entry</a> (uint16_t zbt_addr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans MAC entry in main hash table at the given address.  <a href="#aae356a1e27b4e6a32ed89166e0f5ee0c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#ab449351f7194c7302f801d985084de23">rtu_clean_htab</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans main hash table. Cleans all entries in HTAB inactive bank.  <a href="#ab449351f7194c7302f801d985084de23"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#ac58dcc4cacfc1a9736b29ff3aa4b89c8">rtu_read_hcam_entry</a> (uint16_t cam_addr, struct <a class="el" href="structfiltering__entry.html">filtering_entry</a> *ent)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads MAC entry from HCAM Hash collisions memory.  <a href="#ac58dcc4cacfc1a9736b29ff3aa4b89c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#ace92c0d1926f3d55614cec96c90848a8">rtu_write_hcam_entry</a> (uint16_t cam_addr, struct <a class="el" href="structfiltering__entry.html">filtering_entry</a> *ent)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes MAC entry to HCAM Hash collisions memory.  <a href="#ace92c0d1926f3d55614cec96c90848a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a54864f124ec4c75e9c2df347e74fff31">rtu_clean_hcam_entry</a> (uint8_t cam_addr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans MAC entry in HCAM Hash collisions memory.  <a href="#a54864f124ec4c75e9c2df347e74fff31"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a059da2ca75dfc1de9db3c6993c55ad5e">rtu_clean_hcam</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans HCAM. Cleans all entries in HCAM inactive bank.  <a href="#a059da2ca75dfc1de9db3c6993c55ad5e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#ab445605b03cd6d2cb1bd54208cc43bed">rtu_read_agr_htab</a> (uint32_t addr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read word from aging HTAB. Aging RAM Size: 256 32-bit words.  <a href="#ab445605b03cd6d2cb1bd54208cc43bed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#af34d4a3f47537b585aa2ba5f21271bb8">rtu_clean_agr_htab</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears aging bitmap for HTAB.  <a href="#af34d4a3f47537b585aa2ba5f21271bb8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#aae8980a845cc86e8ca96303c4bfbb426">rtu_read_agr_hcam</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read aging register for HCAM. Each bit corresponds to one MAC entry in HCAM memory.  <a href="#aae8980a845cc86e8ca96303c4bfbb426"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#aa949701d622dd9d7cc417487b9802396">rtu_clean_agr_hcam</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears aging register for HCAM.  <a href="#aa949701d622dd9d7cc417487b9802396"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a731b1200142970de8206589b21899276">rtu_write_vlan_entry</a> (uint32_t addr, struct <a class="el" href="structvlan__table__entry.html">vlan_table_entry</a> *ent)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes entry to vlan table. VLAN table size: 4096 32-bit words.  <a href="#a731b1200142970de8206589b21899276"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#ad12c53080ce48dc103e73478ea014f0e">rtu_clean_vlan_entry</a> (uint32_t addr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans VLAN entry in VLAN table.  <a href="#ad12c53080ce48dc103e73478ea014f0e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a280c91fb6ee62bec1fe973fa8abdd629">rtu_clean_vlan</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans VLAN table (drop bit is set to 1)  <a href="#a280c91fb6ee62bec1fe973fa8abdd629"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a046644d831fcd513c3267e443940d412">rtu_enable</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables RTU operation.  <a href="#a046644d831fcd513c3267e443940d412"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#aa0904e23dd6611b608153b9cfb96512b">rtu_disable</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables RTU operation.  <a href="#aa0904e23dd6611b608153b9cfb96512b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#acd424798194f59962e72ede9f474889c">rtu_write_hash_poly</a> (uint16_t <a class="el" href="rtu__hash_8c.html#a0d88d961f151109c89e8cee8dd912e9e">hash_poly</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the polynomial used for hash computation in RTU at HW.  <a href="#acd424798194f59962e72ede9f474889c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#aceee3708a272bb289adee14a3a039394">rtu_read_hash_poly</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the polynomial used for hash computation in RTU at HW.  <a href="#aceee3708a272bb289adee14a3a039394"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a326c15b3e896a65eb8b924a7b6c547fe">rtu_set_active_htab_bank</a> (uint8_t <a class="el" href="rtu__fd_8c.html#aaccbfb752723bf7af1abb8b0fe9858bc">bank</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set active ZBT bank.  <a href="#a326c15b3e896a65eb8b924a7b6c547fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a9cd60c8e3471dfb779d5e917d04807ed">rtu_set_active_hcam_bank</a> (uint8_t <a class="el" href="rtu__fd_8c.html#aaccbfb752723bf7af1abb8b0fe9858bc">bank</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set active CAM bank.  <a href="#a9cd60c8e3471dfb779d5e917d04807ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a605f6af93352078878075c3a3e4244e5">rtu_set_active_bank</a> (uint8_t <a class="el" href="rtu__fd_8c.html#aaccbfb752723bf7af1abb8b0fe9858bc">bank</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set active ZBT and CAM banks at once.  <a href="#a605f6af93352078878075c3a3e4244e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a2c6eec9355a2067376ec0e906cc60d7b">rtu_set_fixed_prio_on_port</a> (int port, uint8_t prio) __attribute__((warn_unused_result))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets fixed priority of value 'prio' on indicated port. It overrides the priority coming form the endpoint.  <a href="#a2c6eec9355a2067376ec0e906cc60d7b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a26ea8dee0824330afc6a93778ce3c696">rtu_unset_fixed_prio_on_port</a> (int port) __attribute__((warn_unused_result))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsets fixed priority on indicated port. Orders to use priority from the endpoint instead.  <a href="#a26ea8dee0824330afc6a93778ce3c696"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a3c5422a99ab39c991d78325907c6a132">rtu_learn_enable_on_port</a> (int port, int flag) __attribute__((warn_unused_result))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the LEARN_EN flag on indicated port.  <a href="#a3c5422a99ab39c991d78325907c6a132"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a155bec265b39ad49f8cbdc13bb94f7c0">rtu_pass_bpdu_on_port</a> (int port, int flag) __attribute__((warn_unused_result))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the PASS_BPDU flag on indicated port.  <a href="#a155bec265b39ad49f8cbdc13bb94f7c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a66b88267235511dd5a0e6692b7a9669f">rtu_pass_all_on_port</a> (int port, int pass_all) __attribute__((warn_unused_result))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the PASS_ALL flag on indicated port.  <a href="#a66b88267235511dd5a0e6692b7a9669f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a58b5e577798f25a28beccc652c4ee732">rtu_set_unrecognised_behaviour_on_port</a> (int port, int flag) __attribute__((warn_unused_result))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the B_UNREC flag on indicated port.  <a href="#a58b5e577798f25a28beccc652c4ee732"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#ac14abe4fdb42f25fe986ab90024c60f9">rtu_enable_irq</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a96edc58ed9c4da381ee498085cb05f9d">rtu_disable_irq</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtu__drv_8h.html#a4aa899e04169e7a7ca74b3a88431d7b9">rtu_clear_irq</a> (void)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="aa4a50600306f0a093eb5d8f17a3d67d9"></a><!-- doxytag: member="rtu_drv.h::RTU_ARAM_MAIN" ref="aa4a50600306f0a093eb5d8f17a3d67d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTU_ARAM_MAIN&#160;&#160;&#160;0x8000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a33f21fac95b68d4c9640d547887c7863"></a><!-- doxytag: member="rtu_drv.h::RTU_DEVNAME" ref="a33f21fac95b68d4c9640d547887c7863" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTU_DEVNAME&#160;&#160;&#160;&quot;/dev/wr_rtu&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7461de767ba1597037dc18944fa2f89b"></a><!-- doxytag: member="rtu_drv.h::RTU_HCAM" ref="a7461de767ba1597037dc18944fa2f89b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTU_HCAM&#160;&#160;&#160;0x4000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7f844da39c62b8396fb86636f3c0ba7a"></a><!-- doxytag: member="rtu_drv.h::RTU_MFIFO_R0_DATA_SEL" ref="a7f844da39c62b8396fb86636f3c0ba7a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTU_MFIFO_R0_DATA_SEL&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab816dce57bb1dbe29d8533c2e19f1446"></a><!-- doxytag: member="rtu_drv.h::RTU_MFIFO_R1_ADDR_MASK" ref="ab816dce57bb1dbe29d8533c2e19f1446" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTU_MFIFO_R1_ADDR_MASK&#160;&#160;&#160;0x0007FFFF</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8038506fc9bdd75fa67aae9980e953ba"></a><!-- doxytag: member="rtu_drv.h::RTU_VLAN_TAB" ref="a8038506fc9bdd75fa67aae9980e953ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTU_VLAN_TAB&#160;&#160;&#160;0xc000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa949701d622dd9d7cc417487b9802396"></a><!-- doxytag: member="rtu_drv.h::rtu_clean_agr_hcam" ref="aa949701d622dd9d7cc417487b9802396" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_clean_agr_hcam </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clears aging register for HCAM. </p>

</div>
</div>
<a class="anchor" id="af34d4a3f47537b585aa2ba5f21271bb8"></a><!-- doxytag: member="rtu_drv.h::rtu_clean_agr_htab" ref="af34d4a3f47537b585aa2ba5f21271bb8" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_clean_agr_htab </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clears aging bitmap for HTAB. </p>

</div>
</div>
<a class="anchor" id="a059da2ca75dfc1de9db3c6993c55ad5e"></a><!-- doxytag: member="rtu_drv.h::rtu_clean_hcam" ref="a059da2ca75dfc1de9db3c6993c55ad5e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_clean_hcam </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cleans HCAM. Cleans all entries in HCAM inactive bank. </p>

</div>
</div>
<a class="anchor" id="a54864f124ec4c75e9c2df347e74fff31"></a><!-- doxytag: member="rtu_drv.h::rtu_clean_hcam_entry" ref="a54864f124ec4c75e9c2df347e74fff31" args="(uint8_t cam_addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_clean_hcam_entry </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"> <em>cam_addr</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cleans MAC entry in HCAM Hash collisions memory. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>memory address which shoud be cleaned. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab449351f7194c7302f801d985084de23"></a><!-- doxytag: member="rtu_drv.h::rtu_clean_htab" ref="ab449351f7194c7302f801d985084de23" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_clean_htab </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cleans main hash table. Cleans all entries in HTAB inactive bank. </p>

</div>
</div>
<a class="anchor" id="aae356a1e27b4e6a32ed89166e0f5ee0c"></a><!-- doxytag: member="rtu_drv.h::rtu_clean_htab_entry" ref="aae356a1e27b4e6a32ed89166e0f5ee0c" args="(uint16_t zbt_addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_clean_htab_entry </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"> <em>zbt_addr</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cleans MAC entry in main hash table at the given address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">zbt_addr</td><td>memory address which shoud be cleaned. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad4e88df1a88b3ed45913653f36505580"></a><!-- doxytag: member="rtu_drv.h::rtu_clean_mfifo" ref="ad4e88df1a88b3ed45913653f36505580" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_clean_mfifo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cleans MFIFO. </p>

</div>
</div>
<a class="anchor" id="a280c91fb6ee62bec1fe973fa8abdd629"></a><!-- doxytag: member="rtu_drv.h::rtu_clean_vlan" ref="a280c91fb6ee62bec1fe973fa8abdd629" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_clean_vlan </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cleans VLAN table (drop bit is set to 1) </p>

</div>
</div>
<a class="anchor" id="ad12c53080ce48dc103e73478ea014f0e"></a><!-- doxytag: member="rtu_drv.h::rtu_clean_vlan_entry" ref="ad12c53080ce48dc103e73478ea014f0e" args="(uint32_t addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_clean_vlan_entry </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"> <em>addr</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cleans VLAN entry in VLAN table. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>memory address which shoud be cleaned. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4aa899e04169e7a7ca74b3a88431d7b9"></a><!-- doxytag: member="rtu_drv.h::rtu_clear_irq" ref="a4aa899e04169e7a7ca74b3a88431d7b9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_clear_irq </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa0904e23dd6611b608153b9cfb96512b"></a><!-- doxytag: member="rtu_drv.h::rtu_disable" ref="aa0904e23dd6611b608153b9cfb96512b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_disable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disables RTU operation. </p>

</div>
</div>
<a class="anchor" id="a96edc58ed9c4da381ee498085cb05f9d"></a><!-- doxytag: member="rtu_drv.h::rtu_disable_irq" ref="a96edc58ed9c4da381ee498085cb05f9d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_disable_irq </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a046644d831fcd513c3267e443940d412"></a><!-- doxytag: member="rtu_drv.h::rtu_enable" ref="a046644d831fcd513c3267e443940d412" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_enable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enables RTU operation. </p>

</div>
</div>
<a class="anchor" id="ac14abe4fdb42f25fe986ab90024c60f9"></a><!-- doxytag: member="rtu_drv.h::rtu_enable_irq" ref="ac14abe4fdb42f25fe986ab90024c60f9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_enable_irq </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a474c44274e817fd099cd61041e9f148d"></a><!-- doxytag: member="rtu_drv.h::rtu_exit" ref="a474c44274e817fd099cd61041e9f148d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afbf6bd79193f60b8e37d6000075a1665"></a><!-- doxytag: member="rtu_drv.h::rtu_init" ref="afbf6bd79193f60b8e37d6000075a1665" args="(void) __attribute__((warn_unused_result))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtu_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize HW RTU memory map. </p>

</div>
</div>
<a class="anchor" id="a3c5422a99ab39c991d78325907c6a132"></a><!-- doxytag: member="rtu_drv.h::rtu_learn_enable_on_port" ref="a3c5422a99ab39c991d78325907c6a132" args="(int port, int flag) __attribute__((warn_unused_result))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtu_learn_enable_on_port </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the LEARN_EN flag on indicated port. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>port number (0 to 9) </td></tr>
    <tr><td class="paramname">flag</td><td>0 disables learning. Otherwise: enables learning porcess on this port. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>error code. </dd></dl>

</div>
</div>
<a class="anchor" id="a06ba5919b19814534659a97ce87e97ec"></a><!-- doxytag: member="rtu_drv.h::rtu_mfifo_is_empty" ref="a06ba5919b19814534659a97ce87e97ec" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtu_mfifo_is_empty </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks whether the main hashtable CPU access FIFO (MFIFO) is empty. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if MFIFO is empty. 0 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a93883d637d327b55384a2340a2bd6d00"></a><!-- doxytag: member="rtu_drv.h::rtu_mfifo_is_full" ref="a93883d637d327b55384a2340a2bd6d00" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtu_mfifo_is_full </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks whether the main hashtable CPU access FIFO (MFIFO) is full. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if MFIFO is full. 0 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a66b88267235511dd5a0e6692b7a9669f"></a><!-- doxytag: member="rtu_drv.h::rtu_pass_all_on_port" ref="a66b88267235511dd5a0e6692b7a9669f" args="(int port, int pass_all) __attribute__((warn_unused_result))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtu_pass_all_on_port </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the PASS_ALL flag on indicated port. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>port number (0 to 9) </td></tr>
    <tr><td class="paramname">flag</td><td>0: all packets are dropped. Otherwise: all packets are passed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>error code. </dd></dl>

</div>
</div>
<a class="anchor" id="a155bec265b39ad49f8cbdc13bb94f7c0"></a><!-- doxytag: member="rtu_drv.h::rtu_pass_bpdu_on_port" ref="a155bec265b39ad49f8cbdc13bb94f7c0" args="(int port, int flag) __attribute__((warn_unused_result))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtu_pass_bpdu_on_port </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the PASS_BPDU flag on indicated port. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>port number (0 to 9) </td></tr>
    <tr><td class="paramname">flag</td><td>0: BPDU packets are passed RTU rules only if PASS_ALL is set. Otherwise: BPDU packets are passed according to RTU rules. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>error code. </dd></dl>

</div>
</div>
<a class="anchor" id="aae8980a845cc86e8ca96303c4bfbb426"></a><!-- doxytag: member="rtu_drv.h::rtu_read_agr_hcam" ref="aae8980a845cc86e8ca96303c4bfbb426" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rtu_read_agr_hcam </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read aging register for HCAM. Each bit corresponds to one MAC entry in HCAM memory. </p>

</div>
</div>
<a class="anchor" id="ab445605b03cd6d2cb1bd54208cc43bed"></a><!-- doxytag: member="rtu_drv.h::rtu_read_agr_htab" ref="ab445605b03cd6d2cb1bd54208cc43bed" args="(uint32_t addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rtu_read_agr_htab </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"> <em>addr</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read word from aging HTAB. Aging RAM Size: 256 32-bit words. </p>

</div>
</div>
<a class="anchor" id="aceee3708a272bb289adee14a3a039394"></a><!-- doxytag: member="rtu_drv.h::rtu_read_hash_poly" ref="aceee3708a272bb289adee14a3a039394" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t rtu_read_hash_poly </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the polynomial used for hash computation in RTU at HW. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>hash_poly hex representation of polynomial </dd></dl>

</div>
</div>
<a class="anchor" id="ac58dcc4cacfc1a9736b29ff3aa4b89c8"></a><!-- doxytag: member="rtu_drv.h::rtu_read_hcam_entry" ref="ac58dcc4cacfc1a9736b29ff3aa4b89c8" args="(uint16_t cam_addr, struct filtering_entry *ent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_read_hcam_entry </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"> <em>cam_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfiltering__entry.html">filtering_entry</a> *&#160;</td>
          <td class="paramname"> <em>ent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads MAC entry from HCAM Hash collisions memory. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ent</td><td>used to store the entry read. Memory should be handled by callee. </td></tr>
    <tr><td class="paramname">cam_addr</td><td>memory address which shoud be read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a293c16df6af56bae9b6f054ac47d46f7"></a><!-- doxytag: member="rtu_drv.h::rtu_read_learning_queue" ref="a293c16df6af56bae9b6f054ac47d46f7" args="(struct rtu_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtu_read_learning_queue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrtu__request.html">rtu_request</a> *&#160;</td>
          <td class="paramname"> <em>req</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads unrecognised request from UFIFO. Blocks on read if learning queue is empty. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>pointer to unrecognised request data. Memory handled by callee. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>error code </dd></dl>

</div>
</div>
<a class="anchor" id="ade36f3d68d5056c98a83589d31b63229"></a><!-- doxytag: member="rtu_drv.h::rtu_read_learning_queue_cnt" ref="ade36f3d68d5056c98a83589d31b63229" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtu_read_learning_queue_cnt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the current learning queue length. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of unrecognised requests currently in the learning queue. </dd></dl>

</div>
</div>
<a class="anchor" id="a293c61a6549ae8e4270ef5e2da9d8ca4"></a><!-- doxytag: member="rtu_drv.h::rtu_read_mfifo_cnt" ref="a293c61a6549ae8e4270ef5e2da9d8ca4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtu_read_mfifo_cnt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the current main hashtable CPU access FIFO (MFIFO) length. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of MAC entries currently in the MFIFO. </dd></dl>

</div>
</div>
<a class="anchor" id="a605f6af93352078878075c3a3e4244e5"></a><!-- doxytag: member="rtu_drv.h::rtu_set_active_bank" ref="a605f6af93352078878075c3a3e4244e5" args="(uint8_t bank)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_set_active_bank </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"> <em>bank</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set active ZBT and CAM banks at once. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">bank</td><td>active ZBT and CAM bank (0 or 1). Other values will be evaluated as 1. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9cd60c8e3471dfb779d5e917d04807ed"></a><!-- doxytag: member="rtu_drv.h::rtu_set_active_hcam_bank" ref="a9cd60c8e3471dfb779d5e917d04807ed" args="(uint8_t bank)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_set_active_hcam_bank </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"> <em>bank</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set active CAM bank. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">bank</td><td>active CAM bank (0 or 1). Other values will be evaluated as 1. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a326c15b3e896a65eb8b924a7b6c547fe"></a><!-- doxytag: member="rtu_drv.h::rtu_set_active_htab_bank" ref="a326c15b3e896a65eb8b924a7b6c547fe" args="(uint8_t bank)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_set_active_htab_bank </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"> <em>bank</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set active ZBT bank. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">bank</td><td>active ZBT bank (0 or 1). Other values will be evaluated as 1. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2c6eec9355a2067376ec0e906cc60d7b"></a><!-- doxytag: member="rtu_drv.h::rtu_set_fixed_prio_on_port" ref="a2c6eec9355a2067376ec0e906cc60d7b" args="(int port, uint8_t prio) __attribute__((warn_unused_result))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtu_set_fixed_prio_on_port </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"> <em>prio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets fixed priority of value 'prio' on indicated port. It overrides the priority coming form the endpoint. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>port number (0 to 9) </td></tr>
    <tr><td class="paramname">prio</td><td>priority value </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>error code. </dd></dl>

</div>
</div>
<a class="anchor" id="a58b5e577798f25a28beccc652c4ee732"></a><!-- doxytag: member="rtu_drv.h::rtu_set_unrecognised_behaviour_on_port" ref="a58b5e577798f25a28beccc652c4ee732" args="(int port, int flag) __attribute__((warn_unused_result))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtu_set_unrecognised_behaviour_on_port </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the B_UNREC flag on indicated port. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>port number (0 to 9) </td></tr>
    <tr><td class="paramname">flag</td><td>0: packet is dropped. Otherwise: packet is broadcast. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ae27b60dc29995bf00885fe528c5fb822"></a><!-- doxytag: member="rtu_drv.h::rtu_ufifo_is_empty" ref="ae27b60dc29995bf00885fe528c5fb822" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtu_ufifo_is_empty </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the UFIFO empty flag. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Value of UFIFO empty flag. </dd></dl>

</div>
</div>
<a class="anchor" id="a26ea8dee0824330afc6a93778ce3c696"></a><!-- doxytag: member="rtu_drv.h::rtu_unset_fixed_prio_on_port" ref="a26ea8dee0824330afc6a93778ce3c696" args="(int port) __attribute__((warn_unused_result))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtu_unset_fixed_prio_on_port </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>port</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unsets fixed priority on indicated port. Orders to use priority from the endpoint instead. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>port number (0 to 9) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>error code. </dd></dl>

</div>
</div>
<a class="anchor" id="acd424798194f59962e72ede9f474889c"></a><!-- doxytag: member="rtu_drv.h::rtu_write_hash_poly" ref="acd424798194f59962e72ede9f474889c" args="(uint16_t hash_poly)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_write_hash_poly </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"> <em>hash_poly</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the polynomial used for hash computation in RTU at HW. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hash_poly</td><td>hex representation of polynomial </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ace92c0d1926f3d55614cec96c90848a8"></a><!-- doxytag: member="rtu_drv.h::rtu_write_hcam_entry" ref="ace92c0d1926f3d55614cec96c90848a8" args="(uint16_t cam_addr, struct filtering_entry *ent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_write_hcam_entry </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"> <em>cam_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfiltering__entry.html">filtering_entry</a> *&#160;</td>
          <td class="paramname"> <em>ent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes MAC entry to HCAM Hash collisions memory. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ent</td><td>MAC table entry to be written to HCAM. </td></tr>
    <tr><td class="paramname">cam_addr</td><td>memory address in which MAC entry shoud be added. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aed8ed9b7aa502ccff7704b100a5988ff"></a><!-- doxytag: member="rtu_drv.h::rtu_write_htab_entry" ref="aed8ed9b7aa502ccff7704b100a5988ff" args="(uint16_t zbt_addr, struct filtering_entry *ent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_write_htab_entry </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"> <em>zbt_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfiltering__entry.html">filtering_entry</a> *&#160;</td>
          <td class="paramname"> <em>ent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes one MAC entry into main hash table at the given address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ent</td><td>MAC table entry to be written to MFIFO. </td></tr>
    <tr><td class="paramname">zbt_addr</td><td>ZBT SRAM memory address in which MAC entry shoud be added. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a731b1200142970de8206589b21899276"></a><!-- doxytag: member="rtu_drv.h::rtu_write_vlan_entry" ref="a731b1200142970de8206589b21899276" args="(uint32_t addr, struct vlan_table_entry *ent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtu_write_vlan_entry </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structvlan__table__entry.html">vlan_table_entry</a> *&#160;</td>
          <td class="paramname"> <em>ent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes entry to vlan table. VLAN table size: 4096 32-bit words. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>entry memory address </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Thu Feb 3 2011 17:09:03 for wrsw_rtud by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
