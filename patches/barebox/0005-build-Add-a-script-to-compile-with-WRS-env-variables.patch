From faf08754590a65054cef411286ccc14f3a60642c Mon Sep 17 00:00:00 2001
From: Benoit Rat <benoit@sevensols.com>
Date: Mon, 28 May 2012 12:22:48 +0200
Subject: [PATCH 5/9] build: Add a script to compile with WRS env variables, &
 ignore barebox_default_env

---
 .gitignore |    2 +-
 build.sh   |   13 +++++++++++++
 2 files changed, 14 insertions(+), 1 deletion(-)
 create mode 100755 build.sh

diff --git a/.gitignore b/.gitignore
index cc1f2e2..82963f3 100644
--- a/.gitignore
+++ b/.gitignore
@@ -36,7 +36,7 @@ barebox.netx
 barebox.map
 System.map
 Module.symvers
-barebox_default_env
+barebox_default_env*
 
 #
 # Generated include files
diff --git a/build.sh b/build.sh
new file mode 100755
index 0000000..d913edb
--- /dev/null
+++ b/build.sh
@@ -0,0 +1,13 @@
+#!/bin/bash
+
+# To use this script you need to setup the `WRS_OUTPUT_DIR` variable by doing:
+# 
+# 	export WRS_OUTPUT_DIR=/path/to/wrs/output/dir		
+# 
+# You should call the script like this:
+# 		
+# 		./build.sh wrs3_defconfig
+# 		./build.sh all
+
+
+make LINUX=${WRS_OUTPUT_DIR}/build/linux-2.6.39/ CROSS_COMPILE=${WRS_OUTPUT_DIR}/build/buildroot-2011.11/output/host/usr/bin/arm-linux- ARCH=arm $1
-- 
1.7.9.5

